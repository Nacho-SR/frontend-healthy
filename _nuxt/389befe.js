(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{556:function(e,t,n){var content=n(564);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(14).default)("a7a57f32",content,!0,{sourceMap:!1})},563:function(e,t,n){"use strict";n(556)},564:function(e,t,n){var r=n(13)((function(i){return i[1]}));r.push([e.i,".cita-container[data-v-89a6ec70]{display:flex;justify-content:flex-start}",""]),r.locals={},e.exports=r},589:function(e,t,n){"use strict";n.r(t);var r=n(539),o=n(547),c=n(549),l=n(127),d=n(25),f=(n(91),n(8),n(115),n(53),n(3),n(11),{layout:"dashboard",auth:!0,data:function(){return{actualUser:this.$store.getters.getActualUser,patients:[],patientNames:[],cita:{pacienteId:"",doctorId:this.$store.getters.getActualUser.email,fecha:"",hora:""},medicinas:[],citas:[],citasHoy:[]}},watch:{citas:{handler:function(){var e=new Date;this.citasHoy=this.citas.filter((function(t){return new Date(t.fecha).toDateString()===e.toDateString()}))},immediate:!0,deep:!0}},mounted:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$get("/get-all-patients");case 3:n=t.sent,console.log("API Response:",n),e.patients=n.patients||[],console.log(e.patients),e.patientNames=e.patients.map((function(e){return e.nombre})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error obteniendo pacientes:",t.t0),e.patients=[];case 14:return t.next=16,e.loadCitas();case 16:return t.next=18,e.loadMedicines();case 18:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{loadMedicines:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){var data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"/getMyMedicine",data={doctorId:e.cita.doctorId},t.next=5,e.$axios.post("/getMyMedicine",data);case 5:n=t.sent,console.log("API Response:",n),e.medicinas=n.data.myMedicine||[],console.log(e.medicinas),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error obteniendo las medicinas:",t.t0),e.medicinas=[];case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},loadCitas:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){var data,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"/myCitas",data={doctorId:e.cita.doctorId},t.next=5,e.$axios.post("/myCitas",data);case 5:n=t.sent,console.log("API Response:",n),e.citas=n.data.citas||[],e.citas.forEach((function(t){var n=e.patients.find((function(p){return p.id===t.pacienteId}));n&&(t.pacienteNombre=n.nombre,t.pacienteEdad=n.edad,t.pacienteSexo=n.sexo,t.pacienteTelefono=n.telefono,t.pacienteEmail=n.email,t.pacienteDireccion=n.direccion)})),r=new Date,e.citasHoy=e.citas.filter((function(e){return new Date(e.fecha).toDateString()===r.toDateString()})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Error obteniendo las citas:",t.t0),e.citas=[];case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}}),m=(n(563),n(31)),component=Object(m.a)(f,(function(){var e=this,t=e._self._c;return t(l.a,{attrs:{color:"transparent"}},[t(c.a,{staticClass:"ma-2"},[t(o.a,{attrs:{cols:"10"}}),e._v(" "),t(o.a,{staticClass:"ma-0 pa-0",attrs:{cols:"2",align:"end",justify:"center"}},[t(r.a,{attrs:{href:"/",rounded:"",outlined:"",color:"#FF3234"}},[e._v("Log-out")])],1)],1),e._v(" "),t(c.a,[t("div",{staticStyle:{"margin-left":"30px","margin-bottom":"30px"}},[t("h1",[e._v("¡Bienvenido Dr. "+e._s(e.actualUser.nombre)+" "+e._s(e.actualUser.apaterno)+"!")])])]),e._v(" "),t(c.a,{staticClass:"ma-5"},[t(o.a,[t("h3",[e._v("Próxima cita")]),e._v(" "),t("div",{staticClass:"cita-container"},[t("NextCita",{attrs:{citasHoy:e.citasHoy}})],1)]),e._v(" "),t(o.a,[t("h3",[e._v("Informacion de "+e._s(e.actualUser.nombre))]),e._v(" "),t("div",{staticClass:"cita-container"},[t("InfoUser",{attrs:{user:e.actualUser}})],1)])],1),e._v(" "),t(c.a,{staticClass:"ma-3"},[t(o.a,[t("h3",[e._v("Medicamentos")]),e._v(" "),t(c.a,e._l(e.medicinas,(function(e){return t("MyMedicine",{key:e.id,ref:"medicinas",refInFor:!0,attrs:{medicina:e}})})),1)],1)],1)],1)}),[],!1,null,"89a6ec70",null);t.default=component.exports}}]);